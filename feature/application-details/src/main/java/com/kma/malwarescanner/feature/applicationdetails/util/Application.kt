package com.kma.malwarescanner.feature.applicationdetails.util

import android.content.Intent
import android.net.Uri
import androidx.activity.compose.ManagedActivityResultLauncher
import androidx.activity.result.ActivityResult

fun uninstall(
    packageName: String,
    launcher: ManagedActivityResultLauncher<Intent, ActivityResult>,
    isReturnResult: Boolean = false
) {
    val uri = Uri.fromParts("package", packageName, null)
    val intent = Intent(Intent.ACTION_DELETE, uri)

    intent.putExtra(Intent.EXTRA_RETURN_RESULT, isReturnResult)
    launcher.launch(intent)
}
